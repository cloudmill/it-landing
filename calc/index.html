<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>Безымянная страница</title>
    <meta name="generator" content="WYSIWYG Web Builder 14 - http://www.wysiwygwebbuilder.com">
    <link href="index.css" rel="stylesheet">
    <script src="jquery-1.12.4.min.js"></script>
    <link rel="stylesheet" href="magnificpopup/magnific-popup.css">
    <script src="magnificpopup/jquery.magnific-popup.min.js"></script>
    <script src="wwb14.min.js"></script>
    <script>
        function displaylightbox(url, options) {
            options.items = {
                src: url
            };
            options.type = 'iframe';
            $.magnificPopup.open(options);
        }
    </script>
    <title>Калькулятор на JavaScript</title>
    <meta http-equiv="Content-Type" content="text/html; charset=windows-1251"/>
    <script>
        /*
         * Функция подсчета стоимости услуг на создания дизайна сайта
         */
        function calc() {
            var Checkbox2 = document.getElementById("Checkbox2");
            var Checkbox3 = document.getElementById("Checkbox3");
            var Checkbox5 = document.getElementById("Checkbox5");
            var Checkbox6 = document.getElementById("Checkbox6");
            price += parseInt(type_design.options[type_design.selectedIndex].value);
            //получаем ссылку на элемент span, в него будем писать стоимость дизайна
            var result = document.getElementById("result");

            var price = 0;
            price += (Checkbox2.checked == true) ? parseInt(Checkbox2.value) : 0;
            price += (Checkbox3.checked == true) ? parseInt(Checkbox3.value) : 0;
            price += (Checkbox5.checked == true) ? parseInt(Checkbox5.value) : 0;
            price += (Checkbox6.checked == true) ? parseInt(Checkbox6.value) : 0;
            price += parseInt(type_design.options[type_design.selectedIndex].value);


            result.innerHTML = price;
        }
    </script>
    <title>Калькулятор на JavaScript</title>
    <meta http-equiv="Content-Type" content="text/html; charset=windows-1251"/>


<!--    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ion-rangeslider/2.3.1/css/ion.rangeSlider.min.css"/>-->
    <link rel="stylesheet" href="ion.rangeSlider-master/css/ion.rangeSlider.css"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ion-rangeslider/2.3.1/js/ion.rangeSlider.min.js"></script>

</head>

<body>
<div id="wb_Form3" style="position:absolute;left:1px;top:0px;width:550px;height:552px;z-index:24;border:1px solid #30D5C8;">
    <form name="Form3" method="post" action="<?php echo basename(__FILE__); ?>" enctype="multipart/form-data" accept-charset="UTF-8" id="Form3">
        <input type="hidden" data-type="get-field" data-field="tab_id" value="1">
        <div id="wb_Image56" style="position:absolute;left:280px;top:463px;width:231px;height:40px;z-index:0;">
            <img src="images/3k1.png" id="Image56" alt="">
        </div>
        <div id="wb_Text76" style="position:absolute;left:282px;top:469px;width:229px;height:22px;text-align:center;z-index:1;">
            <span style="color:#FFFFFF;">Заказать</span>
        </div>
        <input type="text" id="Editbox9" style="position:absolute;left:37px;top:463px;width:224px;height:36px;z-index:2;" name="Tel." value=""
               spellcheck="false" required pattern="[ \t\r\n\f0-9-+()-;]*$"
               placeholder="&#1042;&#1074;&#1077;&#1076;&#1080;&#1090;&#1077; &#1074;&#1072;&#1096; &#1090;&#1077;&#1083;&#1077;&#1092;&#1086;&#1085;">

        <div id="wb_Text78" style="position:absolute;left:36px;top:133px;width:334px;height:19px;z-index:4;">
            <span style="color:#000000;">Количество серверов</span>
        </div>
        <div id="wb_Text79" style="position:absolute;left:36px;top:87px;width:325px;height:19px;z-index:5;">
            <span style="color:#000000;">Количество рабочих мест</span>
        </div>

        <div id="Html5" style="position:absolute;left:255px;top:52px;width:156px;height:34px;z-index:9">
            <br/>
            <input type="text" id="type_design2" class="js-range-slider" name="Количество рабочих мест" value=""/>
        </div>
        <div id="Html3" style="position:absolute;left:38px;top:373px;width:473px;height:47px;z-index:10">
            <div>
                <span class="priceSpan" style="color:#000000;font-family:'Roboto';font-size:22px;"> Стоимость : </span>
                <span class="priceSpan" id="result2" style="color:#30D5C8;;font-family:Roboto;font-size:37px;">0</span>
                <span class="priceSpan" style="color:#30D5C8;;font-family:'Roboto';font-size:22px;"> руб. </span>
            </div>
        </div>
        <input type="submit" id="Button3" name="" value="Оставить заявку" class="style1"
               style="position:absolute;left:282px;top:463px;width:229px;height:40px;z-index:11;">
        <div id="wb_Checkbox1" style="position:absolute;left:439px;top:69px;width:20px;height:20px;z-index:12;">
            <input type="checkbox" id="Checkbox1" name="более 50" value="" style="position:absolute;left:0;top:0;"><label
                    for="Checkbox1"></label>
        </div>
        <div id="wb_Shape2" style="position:absolute;left:37px;top:408px;width:474px;height:93px;visibility:hidden;z-index:13;">
            <a href="javascript:displaylightbox('./index.php',{})" target="_self"><img src="images/img0002.png" id="Shape2" alt=""
                                                                                       style="width:474px;height:93px;"></a>
        </div>
        <div id="wb_Text2" style="position:absolute;left:468px;top:67px;width:124px;height:19px;z-index:14;">
            <span style="color:#000000;font-family:Arial;font-size:17px;">более 51</span>
        </div>

        <div id="wb_Text4" style="position:absolute;left:36px;top:309px;width:514px;height:18px;z-index:16;">
            <span style="color:#000000;font-family:Arial;font-size:15px;">
                Аудит и состояние техники - <strong>&#1041;&#1045;&#1057;&#1055;&#1051;&#1040;&#1058;&#1053;&#1054;</strong></span>
        </div>
        <div id="wb_Text3" style="position:absolute;left:36px;top:179px;width:348px;height:19px;z-index:17;">
            <span style="color:#000000;font-family:Arial;font-size:17px;">
               Виртуальные машины
            </span>
        </div>
        <div id="wb_Text6" style="position:absolute;left:36px;top:229px;width:438px;height:38px;z-index:18;">
            <span style="color:#000000;font-family:Arial;font-size:17px;">
                Количество Принтеров<br/> и МФУ
            </span>
        </div>

        <div style="position:absolute;left:255px;top:209px;width:156px;height:29px;z-index:19;">
            <input type="text" id="Combobox4" class="js-range-slider "
                   name="Оргтехника и сетевое оборудование" value=""/>
        </div>

        <div style="position:absolute;left:255px;top:160px;width:156px;height:29px;z-index:20;">
            <input type="text" id="Combobox3" class="js-range-slider " name="Виртуальные машины" value=""/>
        </div>
        <div style="position:absolute;left:255px;top:111px;width:156px;height:29px;z-index:22;">
            <input type="text" id="Combobox2" class="js-range-slider " name="Количество серверов" value=""/>
        </div>


    </form>
</div>

<script src='../js/js.cookie.min.js'></script>
<script>
    const priceData = [
        {
            total: 1200,
            arr: [1, 5]
        },
        {
            total: 1120,
            arr: [6, 10]
        },
        {
            total: 1020,
            arr: [11, 20]
        },
        {
            total: 890,
            arr: [21, 35]
        }, {
            total: 850,
            arr: [36, 50]
        },

    ];
    var result2 = document.getElementById("result2"),
        $Checkbox1 = $('#Checkbox1');
    Cookies.set('Checkbox1', 'не выбрано');
    $Checkbox1.change(function () {

        if ($Checkbox1.prop('checked')) {
            Cookies.set('Checkbox1', 'выбрано');
        }
        else{
            Cookies.set('Checkbox1', 'не выбрано');
        }
        myCalc();
    });
    Cookies.set('type_design2', 1);
    $('#type_design2').ionRangeSlider({
        min: 0,
        max: 50,
        from:1,
        step: 1,
        grid: false,
        onChange: function (data) {
            Cookies.set('type_design2', data.from);
            myCalc();
        },
    });

    //Количество серверов Combobox2
    Cookies.set('Combobox2', 0);
    $('#Combobox2').ionRangeSlider({
        min: 0,
        max: 100,
        step: 1,
        grid: false,
        onChange: function (data) {
            Cookies.set('Combobox2',  data.from);
        },
    });


    //Виртуальные машины Combobox2
    Cookies.set('Combobox3', 0);
    $('#Combobox3').ionRangeSlider({
        min: 0,
        max: 100,
        step: 1,
        grid: false,
        onChange: function (data) {
            Cookies.set('Combobox3',  data.from);
        },
    });

    //Оргтехника и сетевое оборудование Combobox4
    Cookies.set('Combobox4', 0);
    $('#Combobox4').ionRangeSlider({
        min: 0,
        max: 100,
        step: 1,
        grid: false,
        onChange: function (data) {
            Cookies.set('Combobox4',  data.from);
        },
    });

    $('.other_slider').ionRangeSlider({
        min: 0,
        max: 100,
        step: 1,
        grid: false,
        onChange: function (data) {

        },
    });

    function myCalc() {
        if ($Checkbox1.prop('checked')) {
            $('#Html3').hide(1);
            ShowObject('wb_Shape2', 1);
        } else {
            ShowObject('wb_Shape2', 0);
            $('#Html3').show(1);
            let result = 0;
            var type_instance = $('#type_design2').data("ionRangeSlider");
            let from = parseInt(type_instance.result.from);
            for (var i = 0; i < priceData.length; i++) {
                let arr = priceData[i].arr;
                if (arr[0] <= from && arr[1] >= from) {
                    result = priceData[i].total;
                }
            }
            let price=result*from;
            $('#result2').text(  price.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " "))
        }
    }
    myCalc();
</script>

</body>

</html>
